(function(){var f,h;h=function(a){var b,e,c;b=a.data;c=a.url;e=a.success;a=a.error;b.version=1404193846;b.agent="vnr";console.log(c);return $.ajax({type:"POST",contentType:"application/json;charset=utf-8",dataType:"json",data:JSON.stringify(b),url:c,success:e,error:a})};f={showInternetError:function(){},showSignInError:function(){},showDupError:function(){}};this.rest={forum:{list:function(a,b){var e,c,g;e=b.data;g=b.success;c=b.error;return h({url:HOST+"/api/json/"+a+"/list",data:e,success:function(d){if(0===
d.status&&d.data)d=d.data,console.log(a,"list: count =",d.length),"function"===typeof g&&g(d);else return f.showInternetError(a),"function"===typeof c?c():void 0},error:function(d){console.warn(a,"error:",JSON.stringify(d));f.showInternetError(a);return"function"===typeof c?c():void 0}})},query:function(a,b){var e,c,g;e=b.data;g=b.success;c=b.error;return h({url:HOST+"/api/json/"+a+"/query",data:e,success:function(d){var b;if(0===d.status&&null!=(b=d.data)&&b.id)d=d.data,console.log(a,"query: id =",
d.id),"function"===typeof g&&g(d);else return f.showInternetError(a),"function"===typeof c?c():void 0},error:function(d){console.warn(a,"error:",JSON.stringify(d));f.showInternetError(a);return"function"===typeof c?c():void 0}})},create:function(a,b){var e,c,g;e=b.data;g=b.success;c=b.error;return h({url:HOST+"/api/json/"+a+"/create",data:e,success:function(d){var b;if(0===d.status&&null!=(b=d.data)&&b.id)d=d.data,console.log(a,"create: id =",d.id),"function"===typeof g&&g(d);else{switch(d.status){case 2:f.showSignInError();
break;case 3:f.showDupError(a);break;default:f.showInternetError(a)}return"function"===typeof c?c():void 0}},error:function(d){console.warn(a,"error:",JSON.stringify(d));f.showInternetError(a);return"function"===typeof c?c():void 0}})},update:function(a,b){var e,c,g;e=b.data;g=b.success;c=b.error;return h({url:HOST+"/api/json/"+a+"/update",data:e,success:function(d){var b;if(0===d.status&&null!=(b=d.data)&&b.id)d=d.data,console.log(a,"update: id =",d.id),"function"===typeof g&&g(d);else return 2===
d.status?f.showSignInError():f.showInternetError(a),"function"===typeof c?c():void 0},error:function(b){console.warn(a,"error:",JSON.stringify(b));f.showInternetError(a);return"function"===typeof c?c():void 0}})}}};this.ticket={update:function(a){var b,e,c;b=a.data;c=a.success;e=a.error;return h({url:HOST+"/api/json/ticket/update",data:b,success:function(a){if(0===a.status&&a.id)console.log("ticket","update: id =",a.id),"function"===typeof c&&c();else return 2===a.status?f.showSignInError():f.showInternetError(b.type),
"function"===typeof e?e():void 0},error:function(a){console.warn("ticket","error:",JSON.stringify(a));f.showInternetError(b.type);return"function"===typeof e?e():void 0}})},list:function(a){var b,e,c;b=a.data;c=a.success;e=a.error;return h({url:HOST+"/api/json/ticket/list",data:b,success:function(a){if(0===a.status&&a.data)a=a.data,console.log("ticket","list: count =",a.length),"function"===typeof c&&c(a);else return f.showInternetError(b.type),"function"===typeof e?e():void 0},error:function(a){console.warn("ticket",
"error:",JSON.stringify(a));f.showInternetError(b.type);return"function"===typeof e?e():void 0}})}}}).call(this);
