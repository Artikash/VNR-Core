(function(){var f,h;h=function(a){var b,e,d;b=a.data;d=a.url;e=a.success;a=a.error;b.version=1404193846;b.agent="vnr";return $.ajax({type:"POST",contentType:"application/json;charset=utf-8",dataType:"json",data:JSON.stringify(b),url:d,success:e,error:a})};f={showInternetError:function(){},showSignInError:function(){},showDupError:function(){}};this.rest={forum:{list:function(a,b){var e,d,g;e=b.data;g=b.success;d=b.error;return h({url:""+HOST+"/api/json/"+a+"/list",data:e,success:function(c){if(0===
c.status&&c.data)c=c.data,console.log(a,"list: count =",c.length),"function"===typeof g&&g(c);else return f.showInternetError(a),"function"===typeof d?d():void 0},error:function(c){console.warn(a,"error:",JSON.stringify(c));f.showInternetError(a);return"function"===typeof d?d():void 0}})},query:function(a,b){var e,d,g;e=b.data;g=b.success;d=b.error;return h({url:""+HOST+"/api/json/"+a+"/query",data:e,success:function(c){var b;if(0===c.status&&null!=(b=c.data)&&b.id)c=c.data,console.log(a,"query: id =",
c.id),"function"===typeof g&&g(c);else return f.showInternetError(a),"function"===typeof d?d():void 0},error:function(c){console.warn(a,"error:",JSON.stringify(c));f.showInternetError(a);return"function"===typeof d?d():void 0}})},create:function(a,b){var e,d,g;e=b.data;g=b.success;d=b.error;return h({url:""+HOST+"/api/json/"+a+"/create",data:e,success:function(c){var b;if(0===c.status&&null!=(b=c.data)&&b.id)c=c.data,console.log(a,"create: id =",c.id),"function"===typeof g&&g(c);else{switch(c.status){case defs.STATUS_USER_ERR:f.showSignInError();
break;case defs.STATUS_DUP_ERR:f.showDupError(a);break;default:f.showInternetError(a)}return"function"===typeof d?d():void 0}},error:function(c){console.warn(a,"error:",JSON.stringify(c));f.showInternetError(a);return"function"===typeof d?d():void 0}})},update:function(a,b){var e,d,g;e=b.data;g=b.success;d=b.error;return h({url:""+HOST+"/api/json/"+a+"/update",data:e,success:function(c){var b;if(0===c.status&&null!=(b=c.data)&&b.id)c=c.data,console.log(a,"update: id =",c.id),"function"===typeof g&&
g(c);else return c.status===defs.STATUS_USER_ERR?f.showSignInError():f.showInternetError(a),"function"===typeof d?d():void 0},error:function(b){console.warn(a,"error:",JSON.stringify(b));f.showInternetError(a);return"function"===typeof d?d():void 0}})}}};this.ticket={update:function(a){var b,e,d;b=a.data;d=a.success;e=a.error;return h({url:""+HOST+"/api/json/ticket/update",data:b,success:function(a){if(0===a.status&&a.id)console.log("ticket","update: id =",a.id),"function"===typeof d&&d();else return a.status===
defs.STATUS_USER_ERR?f.showSignInError():f.showInternetError(b.type),"function"===typeof e?e():void 0},error:function(a){console.warn("ticket","error:",JSON.stringify(a));f.showInternetError(b.type);return"function"===typeof e?e():void 0}})},list:function(a){var b,e,d;b=a.data;d=a.success;e=a.error;return h({url:""+HOST+"/api/json/ticket/list",data:b,success:function(a){if(0===a.status&&a.data)a=a.data,console.log("ticket","list: count =",a.length),"function"===typeof d&&d(a);else return f.showInternetError(b.type),
"function"===typeof e?e():void 0},error:function(a){console.warn("ticket","error:",JSON.stringify(a));f.showInternetError(b.type);return"function"===typeof e?e():void 0}})}}}).call(this);
