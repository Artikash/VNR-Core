(function(){var l,m,n,p,q,r,s,t,k,u;l=" \n\r\t\f\x0B\u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000".split("");k=function(a){return null!=a?a.toString():""};p=function(a,b){var c,g,d,e,f,h;a=k(a);b=b||l;h=0;f=a.length;g=b.length;for(d=!0;d&&h<f;)for(d=!1,e=-1,c=a.charAt(h);++e<g;)if(c===b[e]){d=!0;h++;break}return h>=f?"":a.substr(h,f)};t=function(a,b){var c,g,d,e,f;a=k(a);b=b||l;d=a.length-1;g=b.length;for(e=!0;e&&0<=d;)for(e=!1,
f=-1,c=a.charAt(d);++f<g;)if(c===b[f]){e=!0;d--;break}return 0<=d?a.substring(0,d+1):""};u=function(a,b){a=k(a);b=b||l;return p(t(a,b),b)};r=function(a,b,c,g){var d,e;d=document.createElement("rb");d.textContent=a;e=document.createElement("rt");e.textContent=b;b=document.createElement("ruby");c&&(b.title=c);b.className=g;b.appendChild(d);b.appendChild(e);b.ondblclick=function(){if(a&&ttsBean.isEnabled())return ttsBean.speak(a)};return b};q=function(a){var b,c,g,d,e,f,h,l,k;b=document.createDocumentFragment();
if(a=jlpBean.parse(a)){k=JSON.parse(a);e=0;for(h=k.length;e<h;e++){d=k[e];a=document.createElement("span");a.className="inject-ruby";g="";f=0;for(l=d.length;f<l;f++)c=d[f],g+=c[0],c=r.apply(this,c),a.appendChild(c);g&&(a.onclick=function(a){return function(){if(ttsBean.isEnabled())return ttsBean.speak(a)}}(g));b.appendChild(a)}return b}};s=function(a){var b;return"#text"===a.nodeName?(b=document.createElement("span"),b.className="inject-src",b.textContent=a.textContent,b):a.cloneNode()};m=function(a,
b){var c;a=a.firstChild;for(c=[];null!=a;)3===a.nodeType?b.push(a):1===a.nodeType&&m(a,b),c.push(a=a.nextSibling);return c};n=function(a){var b,c,g,d,e,f;b=[];m(a,b);f=[];d=0;for(e=b.length;d<e;d++)a=b[d],(c=u(a.textContent))?(c=q(c))?(g=s(a),c.appendChild(g),f.push(a.parentNode.replaceChild(c,a))):f.push(void 0):f.push(void 0);return f};(function(){return null!=document.body?n(document.body):window.onload=function(){return n(document.body)}})()}).call(this);
