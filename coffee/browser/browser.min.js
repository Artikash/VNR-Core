(function(){var k,m,n,p,q,r,s,t,l,u;k=" \n\r\t\f\x0B\u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000".split("");l=function(a){return null!=a?a.toString():""};p=function(a,b){var d,g,c,f,e,h;a=l(a);b=b||k;h=0;e=a.length;g=b.length;for(c=!0;c&&h<e;)for(c=!1,f=-1,d=a.charAt(h);++f<g;)if(d===b[f]){c=!0;h++;break}return h>=e?"":a.substr(h,e)};t=function(a,b){var d,g,c,f,e;a=l(a);b=b||k;c=a.length-1;g=b.length;for(f=!0;f&&0<=c;)for(f=!1,
e=-1,d=a.charAt(c);++e<g;)if(d===b[e]){f=!0;c--;break}return 0<=c?a.substring(0,c+1):""};u=function(a,b){a=l(a);b=b||k;return p(t(a,b),b)};r=function(a,b,d,g){var c;c=document.createElement("rb");c.textContent=a;a=document.createElement("rt");a.textContent=b;b=document.createElement("ruby");d&&(b.title=d);b.className=g;b.appendChild(c);b.appendChild(a);return b};q=function(a){var b,d,g,c,f,e,h,k;b=document.createDocumentFragment();if(a=jlpBean.parse(a)){k=JSON.parse(a);c=0;for(e=k.length;c<e;c++){g=
k[c];a=document.createElement("span");a.className="inject-ruby";f=0;for(h=g.length;f<h;f++)d=g[f],d=r.apply(this,d),a.appendChild(d);b.appendChild(a)}return b}};s=function(a){var b;return"#text"===a.nodeName?(b=document.createElement("span"),b.className="inject-src",b.textContent=a.textContent,b):a.cloneNode()};m=function(a,b){var d;a=a.firstChild;for(d=[];null!=a;)3===a.nodeType?b.push(a):1===a.nodeType&&m(a,b),d.push(a=a.nextSibling);return d};n=function(a){var b,d,g,c,f,e;b=[];m(a,b);e=[];c=0;
for(f=b.length;c<f;c++)a=b[c],(d=u(a.textContent))?(d=q(d))?(g=s(a),d.appendChild(g),e.push(a.parentNode.replaceChild(d,a))):e.push(void 0):e.push(void 0);return e};(function(){return null!=document.body?n(document.body):window.onload=function(){return n(document.body)}})()}).call(this);
